# 多签钱包完整使用指南

## 🎯 产品功能概述

这是一个**完整的链上多签钱包管理系统**，允许多个钱包所有者共同管理资金。任何资产转出都需要指定数量的所有者签名确认。

---

## 📋 完整的使用流程

### 第一步：部署多签钱包合约

1. **连接钱包**
   - 点击右上角"连接钱包"按钮
   - 使用 MetaMask 或其他 Web3 钱包连接

2. **切换到"部署新合约"标签页**

3. **配置多签钱包**
   - **添加所有者地址**：输入所有共同管理钱包的地址
     - 可以点击"使用当前地址"快速添加自己的地址
     - 点击"添加地址"按钮添加更多所有者
   - **设置所需确认数**：例如 3 个所有者需要 2 人确认
     - 2/3 表示：任何交易需要 3 个人中至少 2 个人确认才能执行

4. **点击"部署多签钱包"按钮**
   - 确认 MetaMask 弹出的交易
   - 等待合约部署完成
   - 记录部署成功后的合约地址

### 第二步：向多签钱包充值

多签钱包部署后，需要向其充值才能进行转账操作。

**充值方法：**
1. 使用 MetaMask 或任何钱包
2. 向多签钱包合约地址转入 ETH 或其他代币
3. 在"查看合约"标签页可以看到钱包余额

### 第三步：提交转账交易

现在可以使用多签钱包转账了！

1. **切换到"交易管理"标签页**

2. **点击"提交新交易"按钮**

3. **填写转账信息**
   - **接收地址**：输入要转给谁的地址
   - **转账金额**：输入要转多少 ETH

4. **提交交易**
   - 这时交易还不会立即执行
   - 交易进入"待处理"状态
   - 需要其他所有者确认

### 第四步：其他所有者确认交易

1. **其他所有者登录系统**
   - 使用他们自己的钱包地址登录
   - 切换到"交易管理"标签页

2. **查看待处理交易**
   - 可以看到刚才提交的交易
   - 显示交易详情：接收地址、转账金额
   - 显示当前确认进度：例如 "1 / 2"

3. **点击"确认"按钮**
   - 每个所有者确认后，确认数会增加
   - 当确认数达到要求时，交易状态变为"可执行"

4. **（可选）撤销确认**
   - 如果改变主意，可以点击"撤销确认"

### 第五步：执行交易

当交易获得足够的确认后：

1. **任何所有者都可以执行**
   - 在交易卡片上会出现"执行交易"按钮
   - 按钮呈绿色高亮显示

2. **点击"执行交易"**
   - 确认 MetaMask 弹出的交易
   - 交易会真正执行，ETH 会转出
   - 交易移动到"已完成交易"列表

---

## 🔐 安全特性

### 1. **多重签名保护**
- 单个钱包无法单独转移资金
- 必须获得设定数量的确认才能执行

### 2. **透明可追溯**
- 所有交易都在链上记录
- 每个确认都有对应的交易哈希
- 可以在区块浏览器查看完整历史

### 3. **灵活的确认机制**
- 可以撤销自己的确认
- 未执行的交易随时可以被撤回

---

## 💡 实际使用场景

### 场景 1：公司资金管理
- **3 个合伙人，需要 2 人确认**
- 任何支出都需要至少 2 个合伙人同意
- 避免单人控制公司资金

### 场景 2：DAO 金库管理
- **5 个理事会成员，需要 3 人确认**
- 提案通过后，由理事会成员确认执行
- 确保资金使用符合社区意愿

### 场景 3：家庭资产管理
- **夫妻二人，需要 2 人确认**
- 大额支出需要双方同意
- 增加家庭财务透明度

### 场景 4：项目资金托管
- **投资人 + 创始人，需要双方确认**
- 资金使用需要双方同意
- 保护双方利益

---

## 🎨 UI 功能说明

### 查看合约（View）
- 显示钱包基本信息
- 合约地址、余额、所有者列表
- 所需确认数、总交易数
- 当前用户权限状态

### 交易管理（Transactions）
**核心功能页面！**
- ✅ 提交新的转账交易
- ✅ 查看待处理交易列表
- ✅ 确认其他人提交的交易
- ✅ 撤销自己的确认
- ✅ 执行已获批准的交易
- ✅ 查看已完成的交易历史

### 部署新合约（Deploy）
- 创建新的多签钱包
- 配置所有者和确认数
- 一键部署到区块链

---

## ⚡ 快速操作指南

### 我想转账 1 ETH 给朋友（以 2/3 多签为例）

1. **你（所有者 A）：**
   - 进入"交易管理"
   - 点击"提交新交易"
   - 填写朋友地址和 1 ETH
   - 提交 → 交易状态：1/2 确认

2. **所有者 B：**
   - 进入"交易管理"
   - 看到你的交易请求
   - 点击"确认"
   - 确认成功 → 交易状态：2/2 确认，可执行 ✅

3. **任何所有者：**
   - 点击"执行交易"
   - 交易执行，1 ETH 转给朋友 🎉

---

## 🛠️ 技术架构

### 智能合约功能
- ✅ `submitTransaction` - 提交交易
- ✅ `confirmTransaction` - 确认交易
- ✅ `revokeConfirmation` - 撤销确认
- ✅ `executeTransaction` - 执行交易
- ✅ `getTransaction` - 查询交易
- ✅ `getOwners` - 获取所有者
- ✅ `isConfirmed` - 检查确认状态

### 前端功能
- ✅ 现代化 UI 设计（使用你提供的配色方案）
- ✅ 实时交易状态更新
- ✅ 确认进度可视化
- ✅ 响应式布局（手机、平板、桌面）
- ✅ 完整的错误处理和用户提示

---

## 📝 注意事项

1. **Gas 费用**
   - 每次操作（提交、确认、执行）都需要支付 Gas
   - 执行交易时 Gas 费最高

2. **交易不可逆**
   - 一旦执行，交易无法撤销
   - 执行前请仔细核对地址和金额

3. **权限管理**
   - 只有钱包所有者可以操作
   - 非所有者只能查看信息

4. **网络选择**
   - 确保所有所有者连接到相同的网络
   - 建议先在测试网（Sepolia）测试

---


